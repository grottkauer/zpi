<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org/">
<head th:fragment="template_header">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Pożyczaj przedmioty ludziom">
    <meta name="author" content="">
    <meta name="theme-color" content="#fed136">

    <title>BorrowMe!</title>

    <link rel="manifest" href="/manifest.json">

    <!-- Custom fonts for this template-->
    <!--<link href="../../user-panel/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">-->

    <!-- Page level plugin CSS-->
    <link href="../../user-panel/vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

    <!-- FavIcon -->
    <link rel="shortcut icon" type="image/png" href="/images/icons/32.png">

    <!-- Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet'
          type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template-->
    <link href="../../user-panel/css/sb-admin.css" rel="stylesheet">
    <link href="../../startbootstrap-agency-gh-pages/css/agency.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/master.css">
    <link rel="stylesheet" href="../css/user.css">

    <!-- Category -->
    <link href="../../../user-panel/category/css/linericon.css" rel="stylesheet">
    <link href="../../../user-panel/category/css/owl.carousel.min.css" rel="stylesheet">
    <link href="../../../user-panel/category/css/simpleLightbox.css" rel="stylesheet">
    <link href="../../../user-panel/category/css/nice-select.css" rel="stylesheet">
    <link href="../../../user-panel/category/css/animate.css" rel="stylesheet">
    <link href="../../../user-panel/category/css/jquery-ui.css" rel="stylesheet">
    <link href="../../../user-panel/category/css/category-style.css" rel="stylesheet">
    <link href="../../../user-panel/category/css/category-responsive.css" rel="stylesheet">

    <!-- Date picker -->
    <!-- Fontawesome CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css">
    <!-- UI CSS -->
    <link rel="stylesheet" href="../../datepicker-popup/css/ui.css">
    <!-- Pignose.Calendar CSS -->
    <link rel="stylesheet" href="../../datepicker-popup/css/pignose.calendar.min.css">
    <!-- Responsive  CSS -->
    <link rel="stylesheet" href="../../datepicker-popup/css/responsive.css">

    <!-- Leaflet -> map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin=""/>

    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
            integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
            crossorigin=""></script>

    <!-- Date picker range -->

    <script type="text/javascript" src="../../daterangepicker-master/moment.min.js"></script>
    <script type="text/javascript" src="../../daterangepicker-master/daterangepicker.js"></script>
    <link rel="stylesheet" type="text/css" href="../../daterangepicker-master/daterangepicker.css" />

    <!-- Datepicker files -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker.min.css" rel="stylesheet"/>


    <!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">-->

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">

    <!--<script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/latest/js/all.js" integrity="sha384-L469/ELG4Bg9sDQbl0hvjMq8pOcqFgkSpwhwnslzvVVGpDjYJ6wJJyYjvG3u8XW7" crossorigin="anonymous"></script>-->

    <!-- Added jquery files -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <!--<script src="../js/activePanel.js"></script>-->

    <script>
          jQuery(document).ready(function($) {
                $(".clickable-title").click(function() {
                    window.location = $(this).data("href");
                });
            });
      </script>
    <script>
          <!--$(document).ready(function(){-->
              <!--$("#btn-append-photo").click(function(){-->
                <!--$("#photos-1").append("<br>");-->
                <!--$("#photos-1").append($( "#photos-1" ) );-->
              <!--});-->
            <!--});-->
            $(document).ready(function(){
                  $('#screens-duplicate-button').click(function () {
                    $('.screens-duplicate:first').clone().appendTo('.another');
                  });
                  $('#screens-remove-button').click(function () {
                    $('.screens-duplicate:first').detach();
                  });
                });
      </script>
    <script type="text/javascript">
$(document).ready(function(){
	// Activate tooltip
	$('[data-toggle="tooltip"]').tooltip();

	// Select/Deselect checkboxes
	var checkbox = $('table tbody input[type="checkbox"]');
	$("#selectAllUp").click(function(){
		if(this.checked){
			checkbox.each(function(){
				this.checked = true;
			});
			$("#selectAllDown").prop("checked", true);
		} else{
			checkbox.each(function(){
				this.checked = false;
			});
			$("#selectAllDown").prop("checked", false);
		}
	});
	$("#selectAllDown").click(function(){
		if(this.checked){
			checkbox.each(function(){
				this.checked = true;
			});
			$("#selectAllUp").prop("checked", true);
		} else{
			checkbox.each(function(){
				this.checked = false;
			});
			$("#selectAllUp").prop("checked", false);
		}
	});
	checkbox.click(function(){
		if(!this.checked){
			$("#selectAllUp").prop("checked", false);
			$("#selectAllDown").prop("checked", false);
		}
	});
	checkbox.click(function(){
		if(!this.checked){
		    $("#selectAllUp").prop("checked", false);
			$("#selectAllDown").prop("checked", false);
		}
	});
});
</script>
    <script>
        function deleteSingleProduct(id) {
        const sleep = (milliseconds) => {
          return new Promise(resolve => setTimeout(resolve, milliseconds))
        }
            $('#deleteProductModal').modal();
            $('#confirm-delete-item').on('click', function() {
                $('#deleteProductModal').modal('hide');
                //window.location.href = "moje-konto/moje-produkty";
                $.ajax({
                    type: 'DELETE',
                    url: "/moje-konto/moje-produkty",
                    data: {item: id},
                    dataType: 'text',
                    success: function(data) {
                        $('.toast').toast('show');
                        sleep(500).then(() => {
                            location.reload();
                          })
                        //location.reload();
                    }
                });

            });
        }
    </script>
    <script>
        function deleteSeletedProducts() {
            const sleep = (milliseconds) => {
              return new Promise(resolve => setTimeout(resolve, milliseconds))
            }
            var selected = [];
            $.each($("input[name='product']:checked"), function() {
                selected.push($(this).val())
            });
            $('#deleteSelectedModal').modal();
            $('#confirm-selection-delete').on('click', function() {
                $('#deleteSelectedModal').modal('hide');
                //window.location.href = "moje-konto/moje-produkty";
                $.ajax({
                    type: 'DELETE',
                    url: "/moje-konto/moje-produkty/selected",
                    data: {itemsArray: selected},
                    success: function(data) {
                        $('.toast').toast('show');
                        sleep(500).then(() => {
                            location.reload();
                          })
                        //location.reload();
                    }
                });

            });
        }

    </script>
</head>
<body>

<!-- NAV BAR -->
<nav th:fragment="navigation" class="navbar navbar-expand navbar-dark bg-dark static-top">

    <a class="navbar-brand mr-1" href="/moje-konto">Borrow Me!</a>

    <!-- Navbar -->
    <ul class="navbar-nav ml-auto mr-0">
        <li class="nav-item dropdown no-arrow mx-1">
            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdownMain" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-bell fa-fw"></i>
                <!-- todo add span with number of new notification -->
                <span class="badge badge-danger">9+</span>
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="alertsDropdown">
                <ul class="dropdown-item dropdown-menu-notifications"
                    style="background-color: #f8f9fa;">
                    <li class="head text-light bg-dark">
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-12">
                                <!-- todo add span with number of new notification -->
                                <span>Nowe (3)</span>
                                <!-- todo set notification as opened -->
                                <a href="" class="float-right text-light">Oznacz jako przeczytane</a>
                            </div>
                        </div>
                    </li>
                    <li class="notification-box pointer-row pointer-cell" onclick="window.location='/moje-konto/info-szczegoly-zamowienia';">
                        <div class="row">
                            <div class="pt-3 pl-3 col-lg-3 col-sm-3 col-3 text-center">
                                <!--<img src="../images/icons/228.png" class="w-50 rounded-circle">-->
                                <!-- todo set image depending on form of notification -->
                                <!-- 1 - set the meeting date (fa-calendar-alt) -->
                                <!-- 2 - checked meeting (fa-calendar-check) -->
                                <!-- 3 - checked borrow/giveback (fa-check) -->
                                <i class="fas fa-calendar-alt fa-2x"></i>
                            </div>
                            <div class="col-lg-8 col-sm-8 col-8 text-wrap">
                                <div class="row">
                                    <div class="col-6">
                                        <!-- todo set sender name -->
                                        <strong class="text-info notification-header">David John</strong>
                                    </div>
                                    <div class="col-6">
                                        <!-- todo set sending date -->
                                        <small class="text-warning">27.11.2015, 15:00</small>
                                    </div>
                                </div>
                                <div class="notification-body text-justify">
                                    <!-- todo set text one of these below -->
                                    <!-- 1 - Zaproponowano termin i miejsce spotkania na -->
                                    <!-- 2 - Potwierdzono termin i miejsce spotkania na -->
                                    <!-- 3 - Potwierdzono wypożyczenie produktu -->
                                    <!-- 4 - Potwierdzono oddanie produktu -->
                                    Zaproponowano termin i miejsce spotkania na
                                    <!-- todo set meeting date and address -->
                                    <!-- only when 1 or 2 -->
                                    <span>
                                        30/04/2019, Grodków - Rynek
                                    </span>
                                    <!-- todo set text only when 1 or 2 -->
                                    <!-- 1 - w celu wypożyczenia -->
                                    <!-- 2 - w celu oddania -->
                                    w celu wypożyczenia
                                    <!-- todo set name of resource with specific link to order -->
                                    <span>
                                        <a href="/moje-konto/szczegoly?item=1">
                                            Nazwa przedmiotu
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="notification-box bg-gray pointer-row pointer-cell" onclick="window.location='/moje-konto/info-szczegoly-zamowienia';">
                        <div class="row">
                            <div class="pt-3 pl-3 col-lg-3 col-sm-3 col-3 text-center">
                                <!--<img src="../images/icons/228.png" class="w-50 rounded-circle">-->
                                <i class="fas fa-calendar-check fa-2x"></i>
                            </div>
                            <div class="col-lg-8 col-sm-8 col-8 text-wrap">
                                <div class="row">
                                    <div class="col-6">
                                        <strong class="text-info notification-header">David John</strong>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-warning">27.11.2015, 15:00</small>
                                    </div>
                                </div>
                                <div class="notification-body text-justify">
                                    Potwierdzono termin i miejsce spotkania na
                                    <span>
                                        30/04/2019, Grodków - Rynek
                                    </span>
                                    w celu wypożyczenia
                                    <span>
                                        <a href="/moje-konto/szczegoly?item=1">
                                            Nazwa przedmiotu
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="notification-box pointer-row pointer-cell" onclick="window.location='/moje-konto/info-szczegoly-zamowienia';">
                        <div class="row">
                            <div class="pt-3 pl-3 col-lg-3 col-sm-3 col-3 text-center">
                                <i class="fas fa-check fa-2x"></i>
                                <!--<img src="../images/icons/228.png" class="w-50 rounded-circle">-->
                            </div>
                            <div class="col-lg-8 col-sm-8 col-8 text-wrap">
                                <div class="row">
                                    <div class="col-6">
                                        <strong class="text-info notification-header">David John</strong>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-warning">27.11.2015, 15:00</small>
                                    </div>
                                </div>
                                <div class="notification-body text-justify">
                                    Potwierdzono wypożyczenie
                                    <span>
                                        <a href="/moje-konto/szczegoly?item=1">
                                            Nazwa przedmiotu
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="footer bg-dark text-center">
                        <a href="/moje-konto/powiadomienia" class="text-light">Zobacz wszystkie</a>
                    </li>
                </ul>
            </div>
        </li>
        <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdownMain" role="button" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
                <div class="d-flex align-items-center">
                    <i class="fas fa-user-circle fa-fw mr-1"></i>
                    <div th:text="${userName}"></div>
                </div>
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="/moje-konto/panel">Panel Użytkownika</a>
                <a class="dropdown-item" href="/moje-konto">Wypożyczenia</a>
                <div class="dropdown-divider notifyAlert"></div>
                <a class="dropdown-item notifyAlert" href="/moje-konto/powiadomienia">Powiadomienia</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="/" data-toggle="modal" data-target="#logoutModal">Wyloguj</a>
            </div>
        </li>
    </ul>
</nav>

<nav th:fragment="navi" class="navbar navbar-expand navbar-dark bg-dark static-top">
    <button class="btn btn-link btn-sm text-white order-0 order-sm-0" id="sidebarToggle" href="#">
        <i class="fas fa-bars"></i>
    </button>

    <a class="navbar-brand mr-1" href="/moje-konto">Borrow Me!</a>

    <!-- Navbar -->
    <ul class="navbar-nav ml-auto mr-0">
        <li class="nav-item dropdown no-arrow mx-1">
            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-bell fa-fw"></i>
                <span class="badge badge-danger">9+</span>
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="alertsDropdown">
                <ul class="dropdown-item dropdown-menu-notifications"
                    style="background-color: #f8f9fa;">
                    <li class="head text-light bg-dark">
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-12">
                                <span>Nowe (3)</span>
                                <a href="" class="float-right text-light">Oznacz jako przeczytane</a>
                            </div>
                        </div>
                    </li>
                    <li class="notification-box pointer-row pointer-cell" onclick="window.location='/moje-konto/info-szczegoly-zamowienia';">
                        <div class="row">
                            <div class="pt-3 pl-3 col-lg-3 col-sm-3 col-3 text-center">
                                <!--<img src="../images/icons/228.png" class="w-50 rounded-circle">-->
                                <!-- todo set image depending on form of notification -->
                                <!-- 1 - set the meeting date (fa-calendar-alt) -->
                                <!-- 2 - checked meeting (fa-calendar-check) -->
                                <!-- 3 - checked borrow/giveback (fa-check) -->
                                <i class="fas fa-calendar-alt fa-2x"></i>
                            </div>
                            <div class="col-lg-8 col-sm-8 col-8 text-wrap">
                                <div class="row">
                                    <div class="col-6">
                                        <!-- todo set sender name -->
                                        <strong class="text-info notification-header">David John</strong>
                                    </div>
                                    <div class="col-6">
                                        <!-- todo set sending date -->
                                        <small class="text-warning">27.11.2015, 15:00</small>
                                    </div>
                                </div>
                                <div class="notification-body text-justify">
                                    <!-- todo set text one of these below -->
                                    <!-- 1 - Zaproponowano termin i miejsce spotkania na -->
                                    <!-- 2 - Potwierdzono termin i miejsce spotkania na -->
                                    <!-- 3 - Potwierdzono wypożyczenie produktu -->
                                    <!-- 4 - Potwierdzono oddanie produktu -->
                                    Zaproponowano termin i miejsce spotkania na
                                    <!-- todo set meeting date and address -->
                                    <!-- only when 1 or 2 -->
                                    <span>
                                        30/04/2019, Grodków - Rynek
                                    </span>
                                    <!-- todo set text only when 1 or 2 -->
                                    <!-- 1 - w celu wypożyczenia -->
                                    <!-- 2 - w celu oddania -->
                                    w celu wypożyczenia
                                    <!-- todo set name of resource with specific link to order -->
                                    <span>
                                        <a href="/moje-konto/szczegoly?item=1">
                                            Nazwa przedmiotu
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="notification-box bg-gray pointer-row pointer-cell" onclick="window.location='/moje-konto/info-szczegoly-zamowienia';">
                        <div class="row">
                            <div class="pt-3 pl-3 col-lg-3 col-sm-3 col-3 text-center">
                                <!--<img src="../images/icons/228.png" class="w-50 rounded-circle">-->
                                <i class="fas fa-calendar-check fa-2x"></i>
                            </div>
                            <div class="col-lg-8 col-sm-8 col-8 text-wrap">
                                <div class="row">
                                    <div class="col-6">
                                        <strong class="text-info notification-header">David John</strong>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-warning">27.11.2015, 15:00</small>
                                    </div>
                                </div>
                                <div class="notification-body text-justify">
                                    Potwierdzono termin i miejsce spotkania na
                                    <span>
                                        30/04/2019, Grodków - Rynek
                                    </span>
                                    w celu wypożyczenia
                                    <span>
                                        <a href="/moje-konto/szczegoly?item=1">
                                            Nazwa przedmiotu
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="notification-box pointer-row pointer-cell" onclick="window.location='/moje-konto/info-szczegoly-zamowienia';">
                        <div class="row">
                            <div class="pt-3 pl-3 col-lg-3 col-sm-3 col-3 text-center">
                                <i class="fas fa-check fa-2x"></i>
                                <!--<img src="../images/icons/228.png" class="w-50 rounded-circle">-->
                            </div>
                            <div class="col-lg-8 col-sm-8 col-8 text-wrap">
                                <div class="row">
                                    <div class="col-6">
                                        <strong class="text-info notification-header">David John</strong>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-warning">27.11.2015, 15:00</small>
                                    </div>
                                </div>
                                <div class="notification-body text-justify">
                                    Potwierdzono wypożyczenie
                                    <span>
                                        <a href="/moje-konto/szczegoly?item=1">
                                            Nazwa przedmiotu
                                        </a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="footer bg-dark text-center">
                        <a href="powiadomienia" class="text-light">Zobacz wszystkie</a>
                    </li>
                </ul>
            </div>
        </li>
        <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
                <div class="d-flex align-items-center">
                    <i class="fas fa-user-circle fa-fw mr-1"></i>
                    <div th:text="${userName}"></div>
                </div>
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="/moje-konto/panel">Panel Użytkownika</a>
                <a class="dropdown-item" href="/moje-konto">Wypożyczenie</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="/" data-toggle="modal" data-target="#logoutModal">Wyloguj</a>
            </div>
        </li>
    </ul>
</nav>

<!-- Save data toast -->
<div class="toast" data-delay="1500">
    <div class="toast-header">
        <strong class="mr-auto yellow-text">Poprawnie zmieniono dane.</strong>
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">&times;</button>
    </div>
</div>

<!-- Sticky Footer -->
<footer th:fragment="foot" class="sticky-footer">
    <div class="container my-auto">
        <div class="copyright text-center my-auto">
            <span>Copyright © Borrow Me! 2019</span>
        </div>
    </div>
</footer>
</body>
</html>